<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns#">
    <head>
        <meta charset="utf-8">
        <title>Îndrăznește să crezi!</title>
        <meta name="description" content="Noi suntem generația care o să vă oprească">
        <meta name="keywords" content="neamsaturat,rezist,nuscăpați">

        <link rel="shortcut icon" href="/static/favicon.png" type="image/png">
        <link rel="icon" href="/favicon.ico" type="image/icon">

        <meta property="og:title" content="Îndrăznește să crezi!">
        <meta property="og:description" content="Noi suntem generația care o să vă oprească">
        <meta property="og:url" content="https://www.rezist.ro/">
        <meta property="og:type" content="website">
        <meta property="og:image" content="https://www.rezist.ro/static/share.jpeg">
        <meta property="fb:app_id" content="1939917809593618">

        <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
        <style type="text/css">
@font-face {
    font-family: "Bebas Neue";
    src: url("/static/bebas-neue.otf")
}

.nav {
    height: 50px;
    overflow: hidden;
    margin: 0;
    padding: 0;
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
}

.nav-item {
    flex-grow: 1;
    text-align: center;

    font: 32px Bebas Neue;
    line-height: 50px;
    background: #181422;
}

@media all and (min-width: 950px) {
    .nav-item {
        flex-basis: 0;
    }
}

.nav-item__highlight {
    color: #fbff32;
}

.nav-item__link {
    height: 50px;
    display: inline-block;
    margin-right: 8px;
}

.nav-item__link {
    color: white;
    text-decoration: none;
}

.nav-item__link:hover {
    text-decoration: underline;
}

.nav-item__secondary {
    text-decoration: none;
    height: 50px;
    display: none;
    padding: 0 4px;
}

@media all and (min-width: 950px) {
    .nav-item__secondary {
       display: inline-block;
    }
}

.nav-item__secondary svg {
    display: inline-block;
    vertical-align: middle;
}


.desktop-only {
    display: none;
}

@media all and (min-width: 950px) {
    .desktop-only {
       display: initial;
    }
}


#map {
    position: absolute;
    top: 50px;
    left: 0;
    right: 0;
    bottom: 0;
}

html, body {
    height: 100%;
    margin: 0;
    padding: 0;
}

.gm-style-iw {
    left: 25px !important;
    top: 15px !important;
}


@import url("https://fonts.googleapis.com/css?family=Roboto");

.info-box {
  font-family: Roboto, Arial, sans-serif;
  line-height: 1.4;
  font-weight: 400;
}

.info-box a {
  color: #2980B9;
  text-decoration: none;
  -webkit-transition: color 200ms ease;
  transition: color 200ms ease;
}
.info-box a:hover {
  color: #EB6B56;
}

.info-box__cover {
  display: block;
  width: 100%;
  overflow: hidden;
  height: 150px;
  position: relative;
  background-size: cover;
}

.info-box__cover-image {
  display: block;
  width: 100%;
}

.info-box__date {
  text-align: center;
  max-width: 3rem;
  background: #fff;
}

.info-box__date-month {
  color: #fff;
  background: #FC575E;
  padding: 0 .75rem;
  font-weight: 300;
  text-transform: uppercase;
  font-size: 0.75rem;
}

.info-box__date-day {
  color: #000;
  font-size: 1.15rem;
}

.info-box__intro {
  background: #ECF0F1;
  padding: 0.5rem 1rem;
  margin: 0 6px 0.75rem 6px;
}

.info-box__details {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -ms-flex-line-pack: center;
      align-content: center;
  margin-bottom: 0.5rem;
}

.info-box__location {
  -ms-flex-item-align: center;
      -ms-grid-row-align: center;
      align-self: center;
  padding: 0.25rem 0.5rem;
}

.info-box__time {
  display: block;
  font-size: 0.75rem;
  color: rgba(0, 0, 0, 0.4);
}

.info-box__title {
  display: block;
  font-size: 1.15rem;
  padding-bottom: 0.5rem;
}

.info-box__attendants {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-pack: justify;
      -ms-flex-pack: justify;
          justify-content: space-between;
  -webkit-box-align: center;
      -ms-flex-align: center;
          align-items: center;
  color: rgba(0, 0, 0, 0.4);
  padding-top: 0.5rem;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
}

.info-box__attendants span {
  font-size: 0.75rem;
}

a.info-box__share {
  color: #fff;
  background: #2980B9;
  padding: 0 0.5rem;
  border-radius: 0.25rem;
  -webkit-transition: background 200ms ease;
  transition: background 200ms ease;
}

a.info-box__share:hover {
  color: #fff;
  background: #EB6B56;
}

.info-box__description {
  margin: 0 0 2rem;
  white-space: pre-line;
}
        </style>
    </head>
    <body>
        <header class="nav">
            <article class="nav-item">
                <a class="nav-item__link"
                   href="https://www.facebook.com/600000pentruRezistenta/"
                >
                    <span class="nav-item__highlight">#</span>Rezistența
                </a>
                <!--a href="https://www.facebook.com/groups/600000pentruRezistenta/">Rezistența 2</a>
                <a href="https://www.facebook.com/groups/REZISTAMPANALACAPAT/">Rezistența 3</a-->
            </article>

            <article class="nav-item">
                <a class="nav-item__link"
                   href="https://www.facebook.com/RezistentaLIVE/">
                    <span class="desktop-only">
                        <span class="nav-item__highlight">#</span>Rezistența
                    </span><span class="nav-item__highlight">Live</span>
                </a>
            </article>

            <article class="nav-item">
                <a class="nav-item__link"
                   href="https://rezistenta.tv/">
                    <span class="desktop-only">
                        <span class="nav-item__highlight">#</span>Rezistența
                    </span><span class="nav-item__highlight">360</span>
                </a><a class="nav-item__secondary"
                   href="https://www.facebook.com/rezistenta360/"
                >
                    &nbsp;
                    <svg aria-label="Facebook"
                         role="img"
                         width="20"
                         height="20"
                         viewBox="0 0 512 512"
                    >
                        <rect width="512" height="512" fill="#3b5998" rx="15%"/>
                        <path fill="#fff" d="M287 456V157c0-21 6-35 35-35h38V59c-7-1-29-3-55-3-54 0-91 33-91 94v306m143-254H152v72h196"/>
                    </svg>
                    &nbsp;
                </a><a class="nav-item__secondary"
                   href="https://www.youtube.com/channel/UCEYQM-N9Ma1BFnittzk7HrQ"
                >
                    <svg aria-label="YouTube"
                         role="img"
                         width="32"
                         height="32"
                         viewBox="0 0 512 512"
                    >
                        <path fill="#ed1d24" d="M467 149c-5-19-20-34-39-39-34-9-172-9-172-9s-138 0-172 9c-19 5-34 20-39 39-9 35-9 107-9 107s0 72 9 107c5 19 20 34 39 39 34 9 172 9 172 9s138 0 172-9c19-5 34-20 39-39 9-35 9-107 9-107s0-72-9-107"/>
                        <path fill="#fff" d="M211 321l115-65-115-65v130"/>
                    </svg>
                </a>
            </article>
        </header>
        <main id="map"></main>
        <script type="text/javascript">
var events = {{ events|tojson }};
var address = {{ country|tojson }} +  ", " + {{ region|tojson }};


window.oug13 = function() {
    var map;
    var coder = new google.maps.Geocoder();
    coder.geocode({address: address}, function(results, status) {
        if (status == google.maps.GeocoderStatus.OK) {
            map = new google.maps.Map(document.getElementById("map"), {
                mapTypeId: "roadmap",
                center: results[0].geometry.location
            });
            try {
                map.fitBounds(results[0].geometry.bounds);
            } catch(err) {
                map.fitBounds(new google.maps.LatLngBounds(
                    new google.maps.LatLng(43.6186193, 20.2617593),
                    new google.maps.LatLng(48.265274, 29.7784)
                ));
            }
        } else {
            // romania
            map = new google.maps.Map(document.getElementById("map"), {
                mapTypeId: "roadmap",
                center: {
                    lat: 45.943161,
                    lng: 24.96676
                }
            });
            map.fitBounds(new google.maps.LatLngBounds(
                new google.maps.LatLng(43.6186193, 20.2617593),
                new google.maps.LatLng(48.265274, 29.7784)
            ));
        }

        var views = {};
        var markers = {};
        var open = null;
        events.forEach(function(event) {
            markers[event.id] = new google.maps.Marker({
                map: map,
                position: new google.maps.LatLng(event.lat, event.lng),
                icon: {
                    path: google.maps.SymbolPath.CIRCLE,
                    fillColor: 'red',
                    fillOpacity: .2,
                    scale: 5 + 5 * Math.log10(event.attending_count) +
                        Math.log10(event.interested_count),
                    strokeColor: 'white',
                    strokeWeight: .5
                }
            });
            views[event.id] = new google.maps.InfoWindow({
                content: event.html,
                maxWidth: 350
            });
            markers[event.id].addListener("click", function() {
                if(open)
                    views[open].close(map, markers[open]);

                if(open === event.id) {
                    history.pushState(null, event.name, "#");
                    open = null;
                } else {
                    open = event.id;
                    views[open].open(map, markers[open]);
                    history.pushState(null, event.name, "#" + event.id);
                }
            });
            views[event.id].addListener("closeclick", function() {
                if(open === event.id) {
                    history.pushState(null, event.name, "#");
                    open = null;
                }
            });
        });

        var sync = function(e) {
            if(window.location.hash.length > 1) {
                event = window.location.hash.substring(1);
                if(open === event) return;
                if(open)
                    views[open].close(map, markers[open])
                open = event;
                views[open].open(map, markers[open]);
            } else if(open) {
                views[open].close(map, markers[open]);
                open = null;
            }
        }
        window.addEventListener("popstate", sync);
        sync();
    });
}
            </script>
            <script async defer
        src="https://maps.googleapis.com/maps/api/js?key={{ maps_key }}&callback=oug13">
        </script>
        <!--footer>
            <a title="This product includes GeoLite data created by MaxMind" href="http://www.maxmind.com">
                <img alt="" src="/static/maxmind-logo.png">
            </a>
        </footer-->
    </body>
</html>
